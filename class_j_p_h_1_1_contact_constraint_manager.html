<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Jolt Physics: JPH::ContactConstraintManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="LogoSmall.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Jolt Physics
   </div>
   <div id="projectbrief">A multi core friendly Game Physics Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_j_p_h.html">JPH</a></li><li class="navelem"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html">ContactConstraintManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="class_j_p_h_1_1_contact_constraint_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">JPH::ContactConstraintManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_contact_constraint_manager_8h_source.html">ContactConstraintManager.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for JPH::ContactConstraintManager:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_j_p_h_1_1_contact_constraint_manager.png" usemap="#JPH::ContactConstraintManager_map" alt=""/>
  <map id="JPH::ContactConstraintManager_map" name="JPH::ContactConstraintManager_map">
<area href="class_j_p_h_1_1_non_copyable.html" title="Class that makes another class non-copyable. Usage: Inherit from NonCopyable." alt="JPH::NonCopyable" shape="rect" coords="0,0,193,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ad64754dffac7573e0c6dc25edcf93bb5"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#ad64754dffac7573e0c6dc25edcf93bb5">CombineFunction</a> = float(*)(const <a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;inBody1, const <a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;inBody2)</td></tr>
<tr class="memdesc:ad64754dffac7573e0c6dc25edcf93bb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function to combine the restitution or friction of two bodies.  <a href="class_j_p_h_1_1_contact_constraint_manager.html#ad64754dffac7573e0c6dc25edcf93bb5">More...</a><br /></td></tr>
<tr class="separator:ad64754dffac7573e0c6dc25edcf93bb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77431012cd0b1155b8df2095ee65b98d"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a77431012cd0b1155b8df2095ee65b98d">BodyPairHandle</a> = void *</td></tr>
<tr class="memdesc:a77431012cd0b1155b8df2095ee65b98d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle used to keep track of the current body pair.  <a href="class_j_p_h_1_1_contact_constraint_manager.html#a77431012cd0b1155b8df2095ee65b98d">More...</a><br /></td></tr>
<tr class="separator:a77431012cd0b1155b8df2095ee65b98d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0d225293142176283451760ad5dabc69"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a0d225293142176283451760ad5dabc69">ContactConstraintManager</a> (const <a class="el" href="struct_j_p_h_1_1_physics_settings.html">PhysicsSettings</a> &amp;inPhysicsSettings)</td></tr>
<tr class="memdesc:a0d225293142176283451760ad5dabc69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="class_j_p_h_1_1_contact_constraint_manager.html#a0d225293142176283451760ad5dabc69">More...</a><br /></td></tr>
<tr class="separator:a0d225293142176283451760ad5dabc69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a439acf8e765cae7f572adf7c99b9c437"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a439acf8e765cae7f572adf7c99b9c437">~ContactConstraintManager</a> ()</td></tr>
<tr class="separator:a439acf8e765cae7f572adf7c99b9c437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a6ac7e3f6f86505f41e4e6ee115398c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a5a6ac7e3f6f86505f41e4e6ee115398c">Init</a> (<a class="el" href="namespace_j_p_h.html#a96db2939bdaf608fc550d84157d618e0">uint</a> inMaxBodyPairs, <a class="el" href="namespace_j_p_h.html#a96db2939bdaf608fc550d84157d618e0">uint</a> inMaxContactConstraints)</td></tr>
<tr class="separator:a5a6ac7e3f6f86505f41e4e6ee115398c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf8b0be2f9ce9febf7a1fdc4a9fcb8b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#abf8b0be2f9ce9febf7a1fdc4a9fcb8b5">SetContactListener</a> (<a class="el" href="class_j_p_h_1_1_contact_listener.html">ContactListener</a> *inListener)</td></tr>
<tr class="memdesc:abf8b0be2f9ce9febf7a1fdc4a9fcb8b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Listener that is notified whenever a contact point between two bodies is added/updated/removed.  <a href="class_j_p_h_1_1_contact_constraint_manager.html#abf8b0be2f9ce9febf7a1fdc4a9fcb8b5">More...</a><br /></td></tr>
<tr class="separator:abf8b0be2f9ce9febf7a1fdc4a9fcb8b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a480909c9aa8add5d3c368bffbdf81664"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_j_p_h_1_1_contact_listener.html">ContactListener</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a480909c9aa8add5d3c368bffbdf81664">GetContactListener</a> () const</td></tr>
<tr class="separator:a480909c9aa8add5d3c368bffbdf81664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ed83bc3a00867a529a8fbaced01a73a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a7ed83bc3a00867a529a8fbaced01a73a">SetCombineFriction</a> (<a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#ad64754dffac7573e0c6dc25edcf93bb5">CombineFunction</a> inCombineFriction)</td></tr>
<tr class="separator:a7ed83bc3a00867a529a8fbaced01a73a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35cc0a54742e29663be9b87cf974900b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a35cc0a54742e29663be9b87cf974900b">SetCombineRestitution</a> (<a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#ad64754dffac7573e0c6dc25edcf93bb5">CombineFunction</a> inCombineRestitution)</td></tr>
<tr class="separator:a35cc0a54742e29663be9b87cf974900b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ffbeefbbbd776427881c5432391fb6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a4ffbeefbbbd776427881c5432391fb6e">GetMaxConstraints</a> () const</td></tr>
<tr class="memdesc:a4ffbeefbbbd776427881c5432391fb6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the max number of contact constraints that are allowed.  <a href="class_j_p_h_1_1_contact_constraint_manager.html#a4ffbeefbbbd776427881c5432391fb6e">More...</a><br /></td></tr>
<tr class="separator:a4ffbeefbbbd776427881c5432391fb6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84649d45566491e89d233f1b8373c054"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_j_p_h.html#a14577baa6473c622f448a93c63f4f9ea">ValidateResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a84649d45566491e89d233f1b8373c054">ValidateContactPoint</a> (const <a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;inBody1, const <a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;inBody2, const <a class="el" href="class_j_p_h_1_1_collide_shape_result.html">CollideShapeResult</a> &amp;inCollisionResult) const</td></tr>
<tr class="memdesc:a84649d45566491e89d233f1b8373c054"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check with the listener if inBody1 and inBody2 could collide, returns false if not.  <a href="class_j_p_h_1_1_contact_constraint_manager.html#a84649d45566491e89d233f1b8373c054">More...</a><br /></td></tr>
<tr class="separator:a84649d45566491e89d233f1b8373c054"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10f6297f49e6eb2da3e42b294d9d9cdc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a10f6297f49e6eb2da3e42b294d9d9cdc">PrepareConstraintBuffer</a> (<a class="el" href="class_j_p_h_1_1_physics_update_context.html">PhysicsUpdateContext</a> *inContext)</td></tr>
<tr class="memdesc:a10f6297f49e6eb2da3e42b294d9d9cdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the constraint buffer. Should be called before starting collision detection.  <a href="class_j_p_h_1_1_contact_constraint_manager.html#a10f6297f49e6eb2da3e42b294d9d9cdc">More...</a><br /></td></tr>
<tr class="separator:a10f6297f49e6eb2da3e42b294d9d9cdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a59936df84ae44d67afee47470a6722"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a2a59936df84ae44d67afee47470a6722">GetContactsFromCache</a> (<a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;inBody1, <a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;inBody2, bool &amp;outPairHandled, bool &amp;outContactFound)</td></tr>
<tr class="separator:a2a59936df84ae44d67afee47470a6722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48e9a31997ae4e91cd354bc0412017e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a77431012cd0b1155b8df2095ee65b98d">BodyPairHandle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a48e9a31997ae4e91cd354bc0412017e3">AddBodyPair</a> (const <a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;inBody1, const <a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;inBody2)</td></tr>
<tr class="separator:a48e9a31997ae4e91cd354bc0412017e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cd1d1f726d199a1f97800bb33aca321"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a9cd1d1f726d199a1f97800bb33aca321">AddContactConstraint</a> (<a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a77431012cd0b1155b8df2095ee65b98d">BodyPairHandle</a> inBodyPair, <a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;inBody1, <a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;inBody2, const <a class="el" href="class_j_p_h_1_1_contact_manifold.html">ContactManifold</a> &amp;inManifold)</td></tr>
<tr class="separator:a9cd1d1f726d199a1f97800bb33aca321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78f344f34589d0f2ea70f14f6e8d3515"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a78f344f34589d0f2ea70f14f6e8d3515">FinalizeContactCache</a> ()</td></tr>
<tr class="separator:a78f344f34589d0f2ea70f14f6e8d3515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac98a464c15f635a3ae26edaf55bf58b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#ac98a464c15f635a3ae26edaf55bf58b0">ContactPointRemovedCallbacks</a> ()</td></tr>
<tr class="memdesc:ac98a464c15f635a3ae26edaf55bf58b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies the listener of any contact points that were removed. Needs to be callsed after <a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a78f344f34589d0f2ea70f14f6e8d3515">FinalizeContactCache()</a>.  <a href="class_j_p_h_1_1_contact_constraint_manager.html#ac98a464c15f635a3ae26edaf55bf58b0">More...</a><br /></td></tr>
<tr class="separator:ac98a464c15f635a3ae26edaf55bf58b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8036ba03428a5e6f704bda2ca73cd8f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#ac8036ba03428a5e6f704bda2ca73cd8f">GetNumConstraints</a> () const</td></tr>
<tr class="memdesc:ac8036ba03428a5e6f704bda2ca73cd8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of contact constraints that were found.  <a href="class_j_p_h_1_1_contact_constraint_manager.html#ac8036ba03428a5e6f704bda2ca73cd8f">More...</a><br /></td></tr>
<tr class="separator:ac8036ba03428a5e6f704bda2ca73cd8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0295fbbb49514817a7735d85c66dd90b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a0295fbbb49514817a7735d85c66dd90b">SortContacts</a> (<a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *inConstraintIdxBegin, <a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *inConstraintIdxEnd) const</td></tr>
<tr class="memdesc:a0295fbbb49514817a7735d85c66dd90b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sort contact constraints deterministically.  <a href="class_j_p_h_1_1_contact_constraint_manager.html#a0295fbbb49514817a7735d85c66dd90b">More...</a><br /></td></tr>
<tr class="separator:a0295fbbb49514817a7735d85c66dd90b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ea1acd4e56740ad7911bc5a565a5f52"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a7ea1acd4e56740ad7911bc5a565a5f52">SetupVelocityConstraints</a> (<a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *inConstraintIdxBegin, <a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *inConstraintIdxEnd, float inDeltaTime)</td></tr>
<tr class="memdesc:a7ea1acd4e56740ad7911bc5a565a5f52"><td class="mdescLeft">&#160;</td><td class="mdescRight">AddContactConstraint will also setup the velocity constraints for the first sub step. For subsequent sub steps this function must be called prior to warm starting the constraint.  <a href="class_j_p_h_1_1_contact_constraint_manager.html#a7ea1acd4e56740ad7911bc5a565a5f52">More...</a><br /></td></tr>
<tr class="separator:a7ea1acd4e56740ad7911bc5a565a5f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a895286b338c954b86bf557d5bfe7fe92"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a895286b338c954b86bf557d5bfe7fe92">WarmStartVelocityConstraints</a> (const <a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *inConstraintIdxBegin, const <a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *inConstraintIdxEnd, float inWarmStartImpulseRatio)</td></tr>
<tr class="memdesc:a895286b338c954b86bf557d5bfe7fe92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply last frame's impulses as an initial guess for this frame's impulses.  <a href="class_j_p_h_1_1_contact_constraint_manager.html#a895286b338c954b86bf557d5bfe7fe92">More...</a><br /></td></tr>
<tr class="separator:a895286b338c954b86bf557d5bfe7fe92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98c2fee05fbd9a0b0c3af1a2c6a2fb96"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a98c2fee05fbd9a0b0c3af1a2c6a2fb96">SolveVelocityConstraints</a> (const <a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *inConstraintIdxBegin, const <a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *inConstraintIdxEnd)</td></tr>
<tr class="separator:a98c2fee05fbd9a0b0c3af1a2c6a2fb96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7db2363afd1802bd396daf9543d7134"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#ad7db2363afd1802bd396daf9543d7134">StoreAppliedImpulses</a> (const <a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *inConstraintIdxBegin, const <a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *inConstraintIdxEnd)</td></tr>
<tr class="memdesc:ad7db2363afd1802bd396daf9543d7134"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save back the lambdas to the contact cache for the next warm start.  <a href="class_j_p_h_1_1_contact_constraint_manager.html#ad7db2363afd1802bd396daf9543d7134">More...</a><br /></td></tr>
<tr class="separator:ad7db2363afd1802bd396daf9543d7134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13c7a352c86c15db20832f5223e13283"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a13c7a352c86c15db20832f5223e13283">SolvePositionConstraints</a> (const <a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *inConstraintIdxBegin, const <a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *inConstraintIdxEnd)</td></tr>
<tr class="separator:a13c7a352c86c15db20832f5223e13283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a891f77b28c57db3753b180f84c422c41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a891f77b28c57db3753b180f84c422c41">RecycleConstraintBuffer</a> ()</td></tr>
<tr class="memdesc:a891f77b28c57db3753b180f84c422c41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recycle the constraint buffer. Should be called between collision simulation steps.  <a href="class_j_p_h_1_1_contact_constraint_manager.html#a891f77b28c57db3753b180f84c422c41">More...</a><br /></td></tr>
<tr class="separator:a891f77b28c57db3753b180f84c422c41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af092bda0a80a6656f1599ab0106cee89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#af092bda0a80a6656f1599ab0106cee89">FinishConstraintBuffer</a> ()</td></tr>
<tr class="memdesc:af092bda0a80a6656f1599ab0106cee89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminate the constraint buffer. Should be called after simulation ends.  <a href="class_j_p_h_1_1_contact_constraint_manager.html#af092bda0a80a6656f1599ab0106cee89">More...</a><br /></td></tr>
<tr class="separator:af092bda0a80a6656f1599ab0106cee89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46f60e1ed391bd70d2f7103bb128c545"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a46f60e1ed391bd70d2f7103bb128c545">OnCCDContactAdded</a> (const <a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;inBody1, const <a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;inBody2, const <a class="el" href="class_j_p_h_1_1_contact_manifold.html">ContactManifold</a> &amp;inManifold, <a class="el" href="class_j_p_h_1_1_contact_settings.html">ContactSettings</a> &amp;outSettings)</td></tr>
<tr class="separator:a46f60e1ed391bd70d2f7103bb128c545"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4f514784b991f2c3311427c4e43ecdc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#aa4f514784b991f2c3311427c4e43ecdc">SaveState</a> (<a class="el" href="class_j_p_h_1_1_state_recorder.html">StateRecorder</a> &amp;inStream) const</td></tr>
<tr class="memdesc:aa4f514784b991f2c3311427c4e43ecdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saving state for replay.  <a href="class_j_p_h_1_1_contact_constraint_manager.html#aa4f514784b991f2c3311427c4e43ecdc">More...</a><br /></td></tr>
<tr class="separator:aa4f514784b991f2c3311427c4e43ecdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4633a97633f9417510b8e2292aec9c50"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a4633a97633f9417510b8e2292aec9c50">RestoreState</a> (<a class="el" href="class_j_p_h_1_1_state_recorder.html">StateRecorder</a> &amp;inStream)</td></tr>
<tr class="memdesc:a4633a97633f9417510b8e2292aec9c50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restoring state for replay. Returns false when failed.  <a href="class_j_p_h_1_1_contact_constraint_manager.html#a4633a97633f9417510b8e2292aec9c50">More...</a><br /></td></tr>
<tr class="separator:a4633a97633f9417510b8e2292aec9c50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a767741f4241a677d9204ab8cb7acba83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a767741f4241a677d9204ab8cb7acba83">CollectStats</a> ()</td></tr>
<tr class="memdesc:a767741f4241a677d9204ab8cb7acba83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collect stats of the previous time step.  <a href="class_j_p_h_1_1_contact_constraint_manager.html#a767741f4241a677d9204ab8cb7acba83">More...</a><br /></td></tr>
<tr class="separator:a767741f4241a677d9204ab8cb7acba83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_j_p_h_1_1_non_copyable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_j_p_h_1_1_non_copyable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_j_p_h_1_1_non_copyable.html">JPH::NonCopyable</a></td></tr>
<tr class="memitem:aa877915347cfdf5cc8350dc809ae3895 inherit pub_methods_class_j_p_h_1_1_non_copyable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_non_copyable.html#aa877915347cfdf5cc8350dc809ae3895">NonCopyable</a> ()=default</td></tr>
<tr class="separator:aa877915347cfdf5cc8350dc809ae3895 inherit pub_methods_class_j_p_h_1_1_non_copyable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5baa31cf0ff2d86257269225e75b166f inherit pub_methods_class_j_p_h_1_1_non_copyable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_non_copyable.html#a5baa31cf0ff2d86257269225e75b166f">NonCopyable</a> (const <a class="el" href="class_j_p_h_1_1_non_copyable.html">NonCopyable</a> &amp;)=delete</td></tr>
<tr class="separator:a5baa31cf0ff2d86257269225e75b166f inherit pub_methods_class_j_p_h_1_1_non_copyable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a218cef2523022487b93e8bbfade6068a inherit pub_methods_class_j_p_h_1_1_non_copyable"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_non_copyable.html#a218cef2523022487b93e8bbfade6068a">operator=</a> (const <a class="el" href="class_j_p_h_1_1_non_copyable.html">NonCopyable</a> &amp;)=delete</td></tr>
<tr class="separator:a218cef2523022487b93e8bbfade6068a inherit pub_methods_class_j_p_h_1_1_non_copyable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ac8b9815eea1276b9ae04d1ac9e125f24"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#ac8b9815eea1276b9ae04d1ac9e125f24">MaxContactPoints</a> = 4</td></tr>
<tr class="memdesc:ac8b9815eea1276b9ae04d1ac9e125f24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max 4 contact points are needed for a stable manifold.  <a href="class_j_p_h_1_1_contact_constraint_manager.html#ac8b9815eea1276b9ae04d1ac9e125f24">More...</a><br /></td></tr>
<tr class="separator:ac8b9815eea1276b9ae04d1ac9e125f24"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a77431012cd0b1155b8df2095ee65b98d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77431012cd0b1155b8df2095ee65b98d">&#9670;&nbsp;</a></span>BodyPairHandle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a77431012cd0b1155b8df2095ee65b98d">JPH::ContactConstraintManager::BodyPairHandle</a> =  void *</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle used to keep track of the current body pair. </p>

</div>
</div>
<a id="ad64754dffac7573e0c6dc25edcf93bb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad64754dffac7573e0c6dc25edcf93bb5">&#9670;&nbsp;</a></span>CombineFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#ad64754dffac7573e0c6dc25edcf93bb5">JPH::ContactConstraintManager::CombineFunction</a> =  float (*)(const <a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;inBody1, const <a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;inBody2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function to combine the restitution or friction of two bodies. </p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0d225293142176283451760ad5dabc69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d225293142176283451760ad5dabc69">&#9670;&nbsp;</a></span>ContactConstraintManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">JPH::ContactConstraintManager::ContactConstraintManager </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_j_p_h_1_1_physics_settings.html">PhysicsSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>inPhysicsSettings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>

</div>
</div>
<a id="a439acf8e765cae7f572adf7c99b9c437"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a439acf8e765cae7f572adf7c99b9c437">&#9670;&nbsp;</a></span>~ContactConstraintManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JPH::ContactConstraintManager::~ContactConstraintManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a48e9a31997ae4e91cd354bc0412017e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48e9a31997ae4e91cd354bc0412017e3">&#9670;&nbsp;</a></span>AddBodyPair()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a77431012cd0b1155b8df2095ee65b98d">ContactConstraintManager::BodyPairHandle</a> JPH::ContactConstraintManager::AddBodyPair </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;&#160;</td>
          <td class="paramname"><em>inBody1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;&#160;</td>
          <td class="paramname"><em>inBody2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a handle for a colliding body pair so that contact constraints can be added between them. Needs to be called once per body pair per frame before calling AddContactConstraint. </p>

</div>
</div>
<a id="a9cd1d1f726d199a1f97800bb33aca321"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cd1d1f726d199a1f97800bb33aca321">&#9670;&nbsp;</a></span>AddContactConstraint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JPH::ContactConstraintManager::AddContactConstraint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a77431012cd0b1155b8df2095ee65b98d">BodyPairHandle</a>&#160;</td>
          <td class="paramname"><em>inBodyPair</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;&#160;</td>
          <td class="paramname"><em>inBody1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;&#160;</td>
          <td class="paramname"><em>inBody2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_j_p_h_1_1_contact_manifold.html">ContactManifold</a> &amp;&#160;</td>
          <td class="paramname"><em>inManifold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a contact constraint for this frame.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inBodyPair</td><td>The handle for the contact cache for this body pair </td></tr>
    <tr><td class="paramname">inBody1</td><td>The first body that is colliding </td></tr>
    <tr><td class="paramname">inBody2</td><td>The second body that is colliding </td></tr>
    <tr><td class="paramname">inManifold</td><td>The manifold that describes the collision</td></tr>
  </table>
  </dd>
</dl>
<p>This is using the approach described in 'Modeling and Solving Constraints' by Erin Catto presented at GDC 2009 (and later years with slight modifications). We're using the formulas from slide 50 - 53 combined.</p>
<p>Euler velocity integration:</p>
<p>v1' = v1 + M^-1 P</p>
<p>Impulse:</p>
<p>P = J^T lambda</p>
<p><a class="el" href="class_j_p_h_1_1_constraint.html" title="Base class for all physics constraints. A constraint removes one or more degrees of freedom for a rig...">Constraint</a> force:</p>
<p>lambda = -K^-1 J v1</p>
<p>Inverse effective mass:</p>
<p>K = J M^-1 J^T</p>
<p><a class="el" href="class_j_p_h_1_1_constraint.html" title="Base class for all physics constraints. A constraint removes one or more degrees of freedom for a rig...">Constraint</a> equation (limits movement in 1 axis):</p>
<p>C = (p2 - p1) . n</p>
<p>Jacobian (for position constraint)</p>
<p>J = [-n, -r1 x n, n, r2 x n]</p>
<p>n = contact normal (pointing away from body 1). p1, p2 = positions of collision on body 1 and 2. r1, r2 = contact point relative to center of mass of body 1 and body 2 (r1 = p1 - x1, r2 = p2 - x2). v1, v2 = (linear velocity, angular velocity): 6 vectors containing linear and angular velocity for body 1 and 2. M = mass matrix, a diagonal matrix of the mass and inertia with diagonal [m1, I1, m2, I2]. </p>

</div>
</div>
<a id="a767741f4241a677d9204ab8cb7acba83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a767741f4241a677d9204ab8cb7acba83">&#9670;&nbsp;</a></span>CollectStats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JPH::ContactConstraintManager::CollectStats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Collect stats of the previous time step. </p>

</div>
</div>
<a id="ac98a464c15f635a3ae26edaf55bf58b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac98a464c15f635a3ae26edaf55bf58b0">&#9670;&nbsp;</a></span>ContactPointRemovedCallbacks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JPH::ContactConstraintManager::ContactPointRemovedCallbacks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notifies the listener of any contact points that were removed. Needs to be callsed after <a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#a78f344f34589d0f2ea70f14f6e8d3515">FinalizeContactCache()</a>. </p>

</div>
</div>
<a id="a78f344f34589d0f2ea70f14f6e8d3515"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78f344f34589d0f2ea70f14f6e8d3515">&#9670;&nbsp;</a></span>FinalizeContactCache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JPH::ContactConstraintManager::FinalizeContactCache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finalizes the contact cache, the contact cache that was generated during the calls to AddContactConstraint in this update will be used from now on to read from </p>

</div>
</div>
<a id="af092bda0a80a6656f1599ab0106cee89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af092bda0a80a6656f1599ab0106cee89">&#9670;&nbsp;</a></span>FinishConstraintBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JPH::ContactConstraintManager::FinishConstraintBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terminate the constraint buffer. Should be called after simulation ends. </p>

</div>
</div>
<a id="a480909c9aa8add5d3c368bffbdf81664"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a480909c9aa8add5d3c368bffbdf81664">&#9670;&nbsp;</a></span>GetContactListener()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_j_p_h_1_1_contact_listener.html">ContactListener</a>* JPH::ContactConstraintManager::GetContactListener </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2a59936df84ae44d67afee47470a6722"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a59936df84ae44d67afee47470a6722">&#9670;&nbsp;</a></span>GetContactsFromCache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JPH::ContactConstraintManager::GetContactsFromCache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;&#160;</td>
          <td class="paramname"><em>inBody1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;&#160;</td>
          <td class="paramname"><em>inBody2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>outPairHandled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>outContactFound</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if the contact points from the previous frame are reusable and if so copy them. When the cache was usable and the pair has been handled: outPairHandled = true. When a contact was produced: outContactFound = true. </p>

</div>
</div>
<a id="a4ffbeefbbbd776427881c5432391fb6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ffbeefbbbd776427881c5432391fb6e">&#9670;&nbsp;</a></span>GetMaxConstraints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> JPH::ContactConstraintManager::GetMaxConstraints </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the max number of contact constraints that are allowed. </p>

</div>
</div>
<a id="ac8036ba03428a5e6f704bda2ca73cd8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8036ba03428a5e6f704bda2ca73cd8f">&#9670;&nbsp;</a></span>GetNumConstraints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> JPH::ContactConstraintManager::GetNumConstraints </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of contact constraints that were found. </p>

</div>
</div>
<a id="a5a6ac7e3f6f86505f41e4e6ee115398c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a6ac7e3f6f86505f41e4e6ee115398c">&#9670;&nbsp;</a></span>Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JPH::ContactConstraintManager::Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_j_p_h.html#a96db2939bdaf608fc550d84157d618e0">uint</a>&#160;</td>
          <td class="paramname"><em>inMaxBodyPairs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_j_p_h.html#a96db2939bdaf608fc550d84157d618e0">uint</a>&#160;</td>
          <td class="paramname"><em>inMaxContactConstraints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the system. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inMaxBodyPairs</td><td>Maximum amount of body pairs to process (anything else will fall through the world), this number should generally be much higher than the max amount of contact points as there will be lots of bodies close that are not actually touching </td></tr>
    <tr><td class="paramname">inMaxContactConstraints</td><td>Maximum amount of contact constraints to process (anything else will fall through the world) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a46f60e1ed391bd70d2f7103bb128c545"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46f60e1ed391bd70d2f7103bb128c545">&#9670;&nbsp;</a></span>OnCCDContactAdded()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JPH::ContactConstraintManager::OnCCDContactAdded </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;&#160;</td>
          <td class="paramname"><em>inBody1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;&#160;</td>
          <td class="paramname"><em>inBody2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_j_p_h_1_1_contact_manifold.html">ContactManifold</a> &amp;&#160;</td>
          <td class="paramname"><em>inManifold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_j_p_h_1_1_contact_settings.html">ContactSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>outSettings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called by continuous collision detection to notify the contact listener that a contact was added </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inBody1</td><td>The first body that is colliding </td></tr>
    <tr><td class="paramname">inBody2</td><td>The second body that is colliding </td></tr>
    <tr><td class="paramname">inManifold</td><td>The manifold that describes the collision </td></tr>
    <tr><td class="paramname">outSettings</td><td>The calculated contact settings (may be overridden by the contact listener) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a10f6297f49e6eb2da3e42b294d9d9cdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10f6297f49e6eb2da3e42b294d9d9cdc">&#9670;&nbsp;</a></span>PrepareConstraintBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JPH::ContactConstraintManager::PrepareConstraintBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_j_p_h_1_1_physics_update_context.html">PhysicsUpdateContext</a> *&#160;</td>
          <td class="paramname"><em>inContext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up the constraint buffer. Should be called before starting collision detection. </p>

</div>
</div>
<a id="a891f77b28c57db3753b180f84c422c41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a891f77b28c57db3753b180f84c422c41">&#9670;&nbsp;</a></span>RecycleConstraintBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JPH::ContactConstraintManager::RecycleConstraintBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recycle the constraint buffer. Should be called between collision simulation steps. </p>

</div>
</div>
<a id="a4633a97633f9417510b8e2292aec9c50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4633a97633f9417510b8e2292aec9c50">&#9670;&nbsp;</a></span>RestoreState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool JPH::ContactConstraintManager::RestoreState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_j_p_h_1_1_state_recorder.html">StateRecorder</a> &amp;&#160;</td>
          <td class="paramname"><em>inStream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restoring state for replay. Returns false when failed. </p>

</div>
</div>
<a id="aa4f514784b991f2c3311427c4e43ecdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4f514784b991f2c3311427c4e43ecdc">&#9670;&nbsp;</a></span>SaveState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JPH::ContactConstraintManager::SaveState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_j_p_h_1_1_state_recorder.html">StateRecorder</a> &amp;&#160;</td>
          <td class="paramname"><em>inStream</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saving state for replay. </p>

</div>
</div>
<a id="a7ed83bc3a00867a529a8fbaced01a73a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ed83bc3a00867a529a8fbaced01a73a">&#9670;&nbsp;</a></span>SetCombineFriction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void JPH::ContactConstraintManager::SetCombineFriction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#ad64754dffac7573e0c6dc25edcf93bb5">CombineFunction</a>&#160;</td>
          <td class="paramname"><em>inCombineFriction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the function that combines the friction of two bodies and returns it Default method is the geometric mean: sqrt(friction1 * friction2). </p>

</div>
</div>
<a id="a35cc0a54742e29663be9b87cf974900b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35cc0a54742e29663be9b87cf974900b">&#9670;&nbsp;</a></span>SetCombineRestitution()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void JPH::ContactConstraintManager::SetCombineRestitution </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_j_p_h_1_1_contact_constraint_manager.html#ad64754dffac7573e0c6dc25edcf93bb5">CombineFunction</a>&#160;</td>
          <td class="paramname"><em>inCombineRestitution</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the function that combines the restitution of two bodies and returns it Default method is max(restitution1, restitution1) </p>

</div>
</div>
<a id="abf8b0be2f9ce9febf7a1fdc4a9fcb8b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf8b0be2f9ce9febf7a1fdc4a9fcb8b5">&#9670;&nbsp;</a></span>SetContactListener()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void JPH::ContactConstraintManager::SetContactListener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_j_p_h_1_1_contact_listener.html">ContactListener</a> *&#160;</td>
          <td class="paramname"><em>inListener</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Listener that is notified whenever a contact point between two bodies is added/updated/removed. </p>

</div>
</div>
<a id="a7ea1acd4e56740ad7911bc5a565a5f52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ea1acd4e56740ad7911bc5a565a5f52">&#9670;&nbsp;</a></span>SetupVelocityConstraints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JPH::ContactConstraintManager::SetupVelocityConstraints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *&#160;</td>
          <td class="paramname"><em>inConstraintIdxBegin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *&#160;</td>
          <td class="paramname"><em>inConstraintIdxEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>inDeltaTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>AddContactConstraint will also setup the velocity constraints for the first sub step. For subsequent sub steps this function must be called prior to warm starting the constraint. </p>

</div>
</div>
<a id="a13c7a352c86c15db20832f5223e13283"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13c7a352c86c15db20832f5223e13283">&#9670;&nbsp;</a></span>SolvePositionConstraints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool JPH::ContactConstraintManager::SolvePositionConstraints </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *&#160;</td>
          <td class="paramname"><em>inConstraintIdxBegin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *&#160;</td>
          <td class="paramname"><em>inConstraintIdxEnd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Solve position constraints. This is using the approach described in 'Modeling and Solving Constraints' by Erin Catto presented at GDC 2007. On slide 78 it is suggested to split up the Baumgarte stabilization for positional drift so that it does not actually add to the momentum. We combine an Euler velocity integrate + a position integrate and then discard the velocity change.</p>
<p><a class="el" href="class_j_p_h_1_1_constraint.html" title="Base class for all physics constraints. A constraint removes one or more degrees of freedom for a rig...">Constraint</a> force:</p>
<p>lambda = -K^-1 b</p>
<p>Baumgarte stabilization:</p>
<p>b = beta / dt C</p>
<p>beta = baumgarte stabilization factor. dt = delta time. </p>

</div>
</div>
<a id="a98c2fee05fbd9a0b0c3af1a2c6a2fb96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98c2fee05fbd9a0b0c3af1a2c6a2fb96">&#9670;&nbsp;</a></span>SolveVelocityConstraints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool JPH::ContactConstraintManager::SolveVelocityConstraints </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *&#160;</td>
          <td class="paramname"><em>inConstraintIdxBegin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *&#160;</td>
          <td class="paramname"><em>inConstraintIdxEnd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Solve velocity constraints, when almost nothing changes this should only apply very small impulses since we're warm starting with the total impulse applied in the last frame above.</p>
<p>Friction wise we're using the Coulomb friction model which says that:</p>
<p>|F_T| &lt;= mu |F_N|</p>
<p>Where F_T is the tangential force, F_N is the normal force and mu is the friction coefficient</p>
<p>In impulse terms this becomes:</p>
<p>|lambda_T| &lt;= mu |lambda_N|</p>
<p>And the constraint that needs to be applied is exactly the same as a non penetration constraint except that we use a tangent instead of a normal. The tangent should point in the direction of the tangential velocity of the point:</p>
<p>J = [-T, -r1 x T, T, r2 x T]</p>
<p>Where T is the tangent.</p>
<p>See slide 42 and 43.</p>
<p>Restitution is implemented as a velocity bias (see slide 41):</p>
<p>b = e v_n^-</p>
<p>e = the restitution coefficient, v_n^- is the normal velocity prior to the collision</p>
<p>Restitution is only applied when v_n^- is large enough and the points are moving towards collision </p>

</div>
</div>
<a id="a0295fbbb49514817a7735d85c66dd90b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0295fbbb49514817a7735d85c66dd90b">&#9670;&nbsp;</a></span>SortContacts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JPH::ContactConstraintManager::SortContacts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *&#160;</td>
          <td class="paramname"><em>inConstraintIdxBegin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *&#160;</td>
          <td class="paramname"><em>inConstraintIdxEnd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sort contact constraints deterministically. </p>

</div>
</div>
<a id="ad7db2363afd1802bd396daf9543d7134"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7db2363afd1802bd396daf9543d7134">&#9670;&nbsp;</a></span>StoreAppliedImpulses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JPH::ContactConstraintManager::StoreAppliedImpulses </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *&#160;</td>
          <td class="paramname"><em>inConstraintIdxBegin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *&#160;</td>
          <td class="paramname"><em>inConstraintIdxEnd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save back the lambdas to the contact cache for the next warm start. </p>

</div>
</div>
<a id="a84649d45566491e89d233f1b8373c054"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84649d45566491e89d233f1b8373c054">&#9670;&nbsp;</a></span>ValidateContactPoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_j_p_h.html#a14577baa6473c622f448a93c63f4f9ea">ValidateResult</a> JPH::ContactConstraintManager::ValidateContactPoint </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;&#160;</td>
          <td class="paramname"><em>inBody1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_j_p_h_1_1_body.html">Body</a> &amp;&#160;</td>
          <td class="paramname"><em>inBody2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_j_p_h_1_1_collide_shape_result.html">CollideShapeResult</a> &amp;&#160;</td>
          <td class="paramname"><em>inCollisionResult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check with the listener if inBody1 and inBody2 could collide, returns false if not. </p>

</div>
</div>
<a id="a895286b338c954b86bf557d5bfe7fe92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a895286b338c954b86bf557d5bfe7fe92">&#9670;&nbsp;</a></span>WarmStartVelocityConstraints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JPH::ContactConstraintManager::WarmStartVelocityConstraints </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *&#160;</td>
          <td class="paramname"><em>inConstraintIdxBegin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespace_j_p_h.html#a7a7fc109e10234468528baee2729bc72">uint32</a> *&#160;</td>
          <td class="paramname"><em>inConstraintIdxEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>inWarmStartImpulseRatio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply last frame's impulses as an initial guess for this frame's impulses. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac8b9815eea1276b9ae04d1ac9e125f24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8b9815eea1276b9ae04d1ac9e125f24">&#9670;&nbsp;</a></span>MaxContactPoints</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int JPH::ContactConstraintManager::MaxContactPoints = 4</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Max 4 contact points are needed for a stable manifold. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Jolt/Physics/Constraints/<a class="el" href="_contact_constraint_manager_8h_source.html">ContactConstraintManager.h</a></li>
<li>Jolt/Physics/Constraints/<a class="el" href="_contact_constraint_manager_8cpp.html">ContactConstraintManager.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
